{"version":3,"file":"static/js/Movies.ee359b4c.chunk.js","mappings":"iPAKQA,EAAWC,EAAAA,EAAAA,OAEJ,SAASC,IACtB,OAAwBC,EAAAA,EAAAA,UAAS,IAAjC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAAoCF,EAAAA,EAAAA,UAAS,IAA7C,eAAOG,EAAP,KAAmBC,EAAnB,KACA,GAAsBJ,EAAAA,EAAAA,UAAS,IAA/B,eAAOK,EAAP,KAAYC,EAAZ,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAQF,EAAaG,IAAI,UAW/BC,EAAAA,EAAAA,YAAU,WACM,OAAVF,IAIJG,EAAAA,EAAAA,IAAYH,GACTI,MAAK,SAAAC,GAAM,OAAIX,EAAcW,MAC7BC,OAAM,SAAAC,GAAK,OAAIX,EAAOW,EAAMC,cAC9B,CAACR,IAEJ,IAAQS,EAA2BhB,EAA3BgB,QAASC,EAAkBjB,EAAlBiB,cAEjB,OACE,iCACE,kBAAMC,SAvBV,SAAsBC,GACpBA,EAAGC,iBACHd,EAAgB,CAAEC,MAAOT,KAqBvB,WACE,kBACEuB,KAAK,OACLvB,KAAK,OACLwB,MAAOxB,EACPyB,SAvBN,YAA0C,IAAZD,EAAW,EAArBE,OAAUF,MAC9BvB,EAAQuB,EAAMG,YAwBV,mBAAQJ,KAAK,SAAb,uBAIDL,GACC,wBACGA,EAAQU,KAAI,YAA6B,IAA1BC,EAAyB,EAAzBA,GAAIC,EAAqB,EAArBA,eAClB,OACE,yBACE,SAAC,KAAD,CACEC,GAAE,UAAKnC,EAAL,YAAeiC,GACjBG,MAAO,CAAEpC,OAAAA,EAAQqC,KAAK,iBAAD,OAAmBxB,IAF1C,SAIGqB,KALID,QAWb,KACe,IAAlBV,GAAsB,0CAAkBV,KAAa,KACrDL,GAAM,gDAAwBA,KAAW","sources":["components/movies/Movies.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { movieByName } from 'fetch-movies';\nimport { Link, useSearchParams } from 'react-router-dom';\nimport constants from 'path';\n\nconst { movies } = constants;\n\nexport default function Movies() {\n  const [name, setName] = useState('');\n  const [searchFilm, setSearchFilm] = useState({});\n  const [err, setErr] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query');\n\n  function handleSubmit(ev) {\n    ev.preventDefault();\n    setSearchParams({ query: name });\n  }\n    \n    function onChange({ target: { value } }) {\n    setName(value.trim());\n  }\n\n  useEffect(() => {\n    if (query === null) {\n      return;\n    }\n\n    movieByName(query)\n      .then(result => setSearchFilm(result))\n      .catch(error => setErr(error.message));\n  }, [query]);\n\n  const { results, total_results } = searchFilm;\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          name=\"name\"\n          value={name}\n          onChange={onChange}\n        />\n        <button type=\"submit\">\n          Search\n        </button>\n      </form>\n      {results ? (\n        <ul>\n          {results.map(({ id, original_title }) => {\n            return (\n              <li key={id}>\n                <Link\n                  to={`${movies}/${id}`}\n                  state={{ movies, from: `/movies?query=${query}` }}\n                >\n                  {original_title}\n                </Link>\n              </li>\n            );\n          })}\n        </ul>\n      ) : null}\n      {total_results === 0 ? <p>We don't find {query}</p> : null}\n      {err ? <p>Error 404 not found {err}</p> : null}\n    </>\n  );\n}"],"names":["movies","constants","Movies","useState","name","setName","searchFilm","setSearchFilm","err","setErr","useSearchParams","searchParams","setSearchParams","query","get","useEffect","movieByName","then","result","catch","error","message","results","total_results","onSubmit","ev","preventDefault","type","value","onChange","target","trim","map","id","original_title","to","state","from"],"sourceRoot":""}